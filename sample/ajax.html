<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>AJAX</title>
  <link rel="stylesheet" type="text/css" href="css/body.css">
  <style type="text/css"></style> 
  <script type="text/javascript"></script>
</head>
<body>
  <button class="button button-primary" id="load-img">加载图片</button>
  <table>
    <caption>照片ajax测试</caption>
    <thread>
      <tr>
        <th width="150px">照片</th>
        <th width="150px">标题</th>
        <th width="150px">主题</th>
        <th width="150px">日期</th>
        <th width="150px">描述</th>
      </tr>
    </thread>
    <tbody id="img-content">
    </tbody>
  </table>

  <script src="scripts/jquery-3.2.1.js" type="text/javascript"></script>
  <script type="text/javascript">
    // var results = '';
    // $(function(){
    //  var url = "http://gis.pekingmemory.cn/json/image"
    //  $.ajax({
    //   type:'GET',
    //   url: url,
    //   success:function(result){
    //     console.log(result);
    //     results = result.images;
    //   }
    //  }); 
    // });
    // $("#load-img").click(function(){
    //   var length = results.length;
    //   for(var i=0;i<length;i++){
    //     var html = "<tr><td>"+'<img width="150px;" src='+results[i].src+'></img>'+"</td><td>"+results[i].title+"</td><td>"+results[i].subject+"</td><td>"+results[i].date+"</td><td>"+results[i].description+"</td></tr>"
    //     $("#img-content").append(html)
    //   }
    // });
    var url = "http://gis.pekingmemory.cn/json/image";
    var re = '';
    $.get(url).done(function(data){
      console.log(data);
      $.each(data.images,function(index,element){
        var html = "<tr><td>"+'<img width="150px;" src='+element.src+'></img>'+"</td><td>"+element.title+"</td><td>"+element.subject+"</td><td>"+element.date+"</td><td>"+element.description+"</td></tr>";
        $("#img-content").append(html);
      });
    });
    
  </script>
  <div id='total'>
    <div class='list'>1</div>
    <div class='list'>2</div>
    <div class='list'>3</div>
    <div class='list'>4</div>
    <div class='list'>5</div>
    <div class='list'>6</div>
    <div class='list'>7</div>
    <div class='list'>8</div> 
  </div>
</body>